if($(function(){$("#menu_toggle").click(function(){$("body").hasClass("nav-md")?($.cookie("menu","nav-sm",{expires:14,path:"/"}),$("body").removeClass("nav-md"),$("body").addClass("nav-sm"),$("#sidebar-menu li.active-sm ul").attr("style","display:none"),$("#sidebar-menu li ul").attr("style","display:none"),$("#sidebar-menu li").removeClass("active"),$("#sidebar-menu li").removeClass("active-sm"),$("body").hasClass("nav-sm")&&$(".menu-text").addClass("hidden"),$("#sidebar-menu li").hasClass("active")&&($("#sidebar-menu li.active").addClass("active-sm"),$("#sidebar-menu li.active").removeClass("active"))):($("body").hasClass("nav-sm")&&$.cookie("menu","nav-md",{expires:14,path:"/"}),$("body").removeClass("nav-sm"),$("body").addClass("nav-md"),$(".sidebar-footer").show(),$("body").hasClass("nav-md")&&$(".menu-text").removeClass("hidden"),$("#sidebar-menu li").hasClass("active-sm")&&($("#sidebar-menu li.active-sm").addClass("active"),$("#sidebar-menu li.active-sm").removeClass("active-sm")))}),$("#content_container").click(function(){$("body").hasClass("nav-sm")&&($("#sidebar-menu li").removeClass("nv active"),$("#sidebar-menu li ul").attr("style","display:none"))})}),$(function(){var a=window.location;$("#sidebar-menu a[href=\""+a+"\"]").parent("li").addClass("current-page")}),$(function(){$("[data-toggle=\"tooltip\"]").tooltip()}),$(".progress .progress-bar")[0]&&$(".progress .progress-bar").progressbar(),$(".js-switch")[0]){var elems=Array.prototype.slice.call(document.querySelectorAll(".js-switch"));elems.forEach(function(a){new Switchery(a,{color:"#26B99A"})})}$(".close-link").click(function(){$(this).closest("div.x_panel").remove()});var __slice=[].slice;!function(b){var c;c=function(){function a(c,d){var a,e,f=this;for(a in this.options=b.extend({},this.defaults,d),this.$el=c,e=this.defaults)e[a],null!=this.$el.data(a)&&(this.options[a]=this.$el.data(a));this.createStars(),this.syncRating(),this.$el.on("mouseover.starrr","span",function(a){return f.syncRating(f.$el.find("span").index(a.currentTarget)+1)}),this.$el.on("mouseout.starrr",function(){return f.syncRating()}),this.$el.on("click.starrr","span",function(a){return f.setRating(f.$el.find("span").index(a.currentTarget)+1)}),this.$el.on("starrr:change",this.options.change)}return a.prototype.defaults={rating:void 0,numStars:5,change:function(){}},a.prototype.createStars=function(){var b,c,d;for(d=[],b=1,c=this.options.numStars;1<=c?b<=c:b>=c;1<=c?b++:b--)d.push(this.$el.append("<span class='glyphicon .glyphicon-star-empty'></span>"));return d},a.prototype.setRating=function(a){return this.options.rating===a&&(a=void 0),this.options.rating=a,this.syncRating(),this.$el.trigger("starrr:change",a)},a.prototype.syncRating=function(b){var c,d,f,g;if(b||(b=this.options.rating),b)for(c=d=0,g=b-1;0<=g?d<=g:d>=g;c=0<=g?++d:--d)this.$el.find("span").eq(c).removeClass("glyphicon-star-empty").addClass("glyphicon-star");if(b&&5>b)for(c=f=b;4>=b?4>=f:4<=f;c=4>=b?++f:--f)this.$el.find("span").eq(c).removeClass("glyphicon-star").addClass("glyphicon-star-empty");return b?void 0:this.$el.find("span").removeClass("glyphicon-star").addClass("glyphicon-star-empty")},a}(),b.fn.extend({starrr:function(){var a,d;return d=arguments[0],a=2<=arguments.length?__slice.call(arguments,1):[],this.each(function(){var e;if((e=b(this).data("star-rating"))||b(this).data("star-rating",e=new c(b(this),d)),"string"==typeof d)return e[d].apply(e,a)})}})}(window.jQuery,window),$(function(){return $(".starrr").starrr()}),$(document).ready(function(){prepareComponents(),$(".flat").on("ifChecked ifUnchecked",function(a){"ifChecked"==a.type?$("#"+$(this).attr("id")).val(1):$("#"+$(this).attr("id")).val(0)}),$("#stars").on("starrr:change",function(a,b){$("#count").html(b)}),$("#stars-existing").on("starrr:change",function(a,b){$("#count-existing").html(b)}),$("body").hasClass("nav-sm")&&$("#sidebar-menu li.active ul").hide()}),$("table input").on("ifChecked",function(){check_state="",$(this).parent().parent().parent().addClass("selected"),countChecked()}),$("table input").on("ifUnchecked",function(){check_state="",$(this).parent().parent().parent().removeClass("selected"),countChecked()});var check_state="";function countChecked(){"check_all"==check_state&&$(".bulk_action input[name='table_records']").iCheck("check"),"uncheck_all"==check_state&&$(".bulk_action input[name='table_records']").iCheck("uncheck");var a=$(".bulk_action input[name='table_records']:checked").length;0<a?($(".column-title").hide(),$(".bulk-actions").show(),$(".action-cnt").html(a+" Records Selected")):($(".column-title").show(),$(".bulk-actions").hide())}function toogleMenu(a){a.parent().is(".active")?(a.parent().removeClass("active"),a.next().slideUp(),a.parent().removeClass("nv"),a.parent().addClass("vn")):($("#sidebar-menu li ul").slideUp(),a.parent().removeClass("vn"),a.parent().addClass("nv"),a.next().slideDown(),$("#sidebar-menu li").removeClass("active"),a.parent().addClass("active"))}$(".bulk_action input").on("ifChecked",function(){check_state="",$(this).parent().parent().parent().addClass("selected"),countChecked()}),$(".bulk_action input").on("ifUnchecked",function(){check_state="",$(this).parent().parent().parent().removeClass("selected"),countChecked()}),$(".bulk_action input#check-all").on("ifChecked",function(){check_state="check_all",countChecked()}),$(".bulk_action input#check-all").on("ifUnchecked",function(){check_state="uncheck_all",countChecked()}),$(function(){$(".expand").on("click",function(){$(this).next().slideToggle(200),$expand=$(this).find(">:first-child"),"+"==$expand.text()?$expand.text("-"):$expand.text("+")})}),$(document).ready(function(){$(".scroll-view").niceScroll({touchbehavior:!0,cursorcolor:"rgba(42, 63, 84, 0.35)"})}),$.prototype.loadinmodal=function(b,c,d,a){var f=$(this).html("");$(this).hasClass("dialog_exist")||($(this).addClass("dialog_exist"),$.post(b,c,function(b){f.createModal(d,a,b)}))};var openned_modals=0;function prepareDateYearPicker(){$(".date-year").datepicker({format:"yyyy",minViewMode:2,language:"lt",orientation:"bottom auto",autoclose:!0})}function prepareComponents(){$(".x-panel:not(\".has-x-panel\")").each(function(){$(this).xpanel(),$(this).addClass("has-x-panel")}),prepareDateYearPicker(),prepareDatePicker(),prepareDateTimePicker(),enableWysiwyg(),enableICheck(),enableMultiselect(),enableSelectpicker(),enableTooltips(),replaceNumberCommaWithDot(),prepareBootstrapDatepicker()}function prepareBootstrapDatepicker(){$(".datepicker:not(\".has-datepicker\")").each(function(){$(".datepicker").datetimepicker({format:"YYYY-MM-DD",locale:"lt"}),$(".datepicker").addClass("has-datepicker")})}function enableTooltips(){$("[data-toggle=\"tooltip\"]").tooltip()}function enableSelectpicker(){$(".selectpicker").selectpicker({dropupAuto:!0})}function enableMultiselect(a){void 0===a&&(a=!1),$("select.multiselect:not(\".has-multiselect\")").multiselect({enableFiltering:!0,includeSelectAllOption:!0,maxHeight:400,enableCaseInsensitiveFiltering:!0,filterPlaceholder:"Paie\u0161ka",selectAllText:"Pa\u017Eym\u0117ti visus",nonSelectedText:"Pasirinkite",allSelectedText:"Visi pa\u017Eym\u0117ti",nSelectedText:"pasirinkti",buttonWidth:"auto",selectAllName:"select-all-name",dropUp:a}),$("select.multiselect:not(\".has-multiselect\")").addClass("has-multiselect")}$.prototype.createModal=function(b,f,g){b||(b={}),$(this).addClass("modal").addClass("fade");var a=$("<div/>").addClass("modal-dialog").appendTo($(this));b.width&&a.css("width",b.width+"px");var h=$("<div/>").addClass("modal-content").appendTo(a),k=$("<div/>").addClass("modal-header").append([void 0===b.without_close||1!=b.without_close?$("<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>"):"",$("<h4/>").html(b&&b.title?b.title:"")]).appendTo(h),m=($("<div/>").addClass("modal-body").html(g).appendTo(h),$("<div/>").addClass("modal-footer").appendTo(h));for(var n in b.submit&&m.append($("<button/>").addClass("md-raised mini-button md-button md-ink-ripple green-button save").append(["<i class=\"fa fa-save\"></i> ","I\u0161saugoti"]).attr({onclick:b.submit+"()",type:"button"})),b.header_close&&k.prepend($("<button type=\"button\" class=\"close\" aria-label=\"Close\"<span aria-hidden=\"true\">&times;</span></button>").on("click",b.header_close.onclick)),b.buttons){var l=b.buttons[n],o=null;o=l.attr?"object"==typeof l.attr?$("<button/>").attr("type","button").attr(l.attr):$("<button "+l.attr+"/>").attr("type","button"):$("<button/>").attr("type","button"),l.id&&o.attr("id",l.id),l.tooltip&&o.attr("data-tip",l.tooltip),l.class&&o.addClass(l.class),l.tooltip&&o.addClass("tip"),l.onclick&&("function"==typeof l.onclick?o.on("click",l.onclick):o.attr("onclick",l.onclick)),l.icon&&o.append("<i class='"+l.icon+"'></i> "),o.append(l.title).appendTo(m)}b.delete&&m.append($("<button/>").addClass("md-raised mini-button md-button md-ink-ripple red-button").append(["<i class=\"fa fa-trash\"></i> ","I\u0161trinti"]).attr({onclick:b.delete+"()",type:"button"})),void 0!==b.cancel&&0==b.cancel||m.append($("<button/>").addClass("md-raised mini-button md-button md-ink-ripple").append(["<i class=\"fa fa-close\"></i> ","At\u0161aukti"]).attr({"data-dismiss":"modal",type:"button"})),$(this).modal({show:!0,backdrop:!1});var q=$("body").scrollTop();$(this).on("shown.bs.modal",function(){$(this).find("input:not([type=hidden])").first().focus(),$(this).find(".modal-dialog").css("z-index","1050"),$(this).data("compiled_angular")||(compileAjaxAngular($(this)),$(this).data("compiled_angular",!0)),prepareComponents(),0<$(this).find(".grid-container").length&&$("body").scrollTop(0),openned_modals++}),(0<$(this).find(".grid-container").length||b.onclose)&&$(this).on("hidden.bs.modal",function(a){$("body").scrollTop(q),0<$(this).find(".grid-container").length&&$(this).find(".grid-container").each(function(){Grids[$(this).attr("id")]&&Grids[$(this).attr("id")].Dispose()}),b.onclose&&b.onclose(a)}),b.beforeClose&&$(this).on("hide.bs.modal",function(a){"function"==typeof b.beforeClose?b.beforeClose(a,b):"function"==typeof window[b.beforeClose]&&window[b.beforeClose](b)}),f&&(f.Disable(),$(this).on("hidden.bs.modal",function(){f.Enable()})),$(this).on("hidden.bs.modal",function(){$(this).removeClass("dialog_exist"),0<--openned_modals?$("body").addClass("modal-open"):($("body").removeClass("modal-open"),$(this).data("compiled_angular",!1))}),enableWysiwyg(),$(this).triggerHandler("onAfterElementLoaded")},$.prototype.xpanel=function(){var b=$(this).data(),c="<div><div><div class=\"x_panel\">";if(c+="<div class=\"x_content\""+($(this).hasClass("closed")?" style=\"display: none;\"":"")+"></div>",c+="</div></div></div>",$(this).wrap(c),!$(this).hasClass("no-header"))var d=$(document.createElement("div")).addClass("x_title").append($(document.createElement("h2")).text(b&&b.title?b.title:""),$(document.createElement("ul")).addClass("nav navbar-right panel_toolbox").append($(document.createElement("li")).append($(document.createElement("a")).addClass("collapse-link").data(b).data("open",b.open?" data-open=\""+b.open+"\"":"").data("open",b.close?" data-open=\""+b.close+"\"":"").append($(document.createElement("i")).addClass("fa fa-chevron-"+($(this).hasClass("closed")?"down":"up"))))),$(document.createElement("div")).addClass("clearfix"));$(this).parent().before(d),void 0!==window[b.afterLoad]&&"function"==typeof window[b.afterLoad]&&window[b.afterLoad]()},$(document).on({click:function(){var b=$(this).find(".collapse-link").first(),c=$(b).parents(".x_panel").first(),d=$(b).find("i"),a=c.find(".x_content"),e=$(b).data();a.is(":visible")?"function"==typeof window[e.close]&&window[e.close]():(e.url&&a.find(".x-panel").loadContent(e.url,e),"function"==typeof window[e.open]&&window[e.open]()),a.slideToggle(200),c.hasClass("fixed_height_390")&&c.toggleClass("").toggleClass("fixed_height_390"),c.hasClass("fixed_height_320")&&c.toggleClass("").toggleClass("fixed_height_320"),d.toggleClass("fa-chevron-up").toggleClass("fa-chevron-down"),setTimeout(function(){c.resize()},50)}},".x_title"),$.prototype.loadContent=function(b,c,d,a){return c||(c={}),$(this).html()&&0!=$(this).html().trim().length&&!d||$(this).load(b,c,function(){a&&a(),compileAjaxAngular($(this)),prepareComponents()}),$(this)},$.prototype.loadinpanel=function(a,b){$(this).loadContent(a,{},!1,b),enableICheck()};var wysiwygEditors={};function enableWysiwyg(a){var b=["placeholder","advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table contextmenu paste code"];a&&a.plugins&&(b=b.concat(a.plugins)),$(".wysiwyg:not(.has-wysiwyg)").each(function(c){0==$(this).attr("id").length&&$(this).attr("id","wysiwyg-editor-"+(c+1));var d=$(this).attr("id"),a={selector:"#"+d,plugins:b,toolbar:!$(this).attr("readonly")&&"insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent",menubar:!1,statusbar:!$(this).attr("readonly"),toolbar_items_size:"small",readonly:$(this).attr("readonly")?1:0,autoresize_bottom_margin:0,setup:function(a){wysiwygEditors[d]=a,a.on("change",function(){var b=$("#"+d).parents("form").first();0<b.length&&0<b.attr("id").length&&(formChanged[b.attr("id")]=!0),a.save(),$("#"+a.id).attr("onChangeEvent")&&window[$("#"+a.id).attr("onChangeEvent")](a)}),$("#"+a.id).prop("readonly")}};tinymce.init(a),$(this).addClass("has-wysiwyg")})}function enableDropzone(b,c,d,a,e,f,g){Dropzone.autoDiscover=!1,0<$("#"+c+"-dropzone:not(.has-dropzone)").length&&($("#"+c+"-dropzone:not(.has-dropzone)").dropzone({init:function(){var a=this;$("button#clear-dropzone").click(function(){a.removeAllFiles(!0)}),this.on("addedfile",function(){this.on("sending",function(b,d,a){for(i in a.append("description",$("#"+c+"-file_description").val()),a.append("object_id",$("#"+c+"_object_id").val()),a.append("object_code",$("#"+c+"_object_code").val()),a.append("new_object_code",$("#"+c+"_new_object_code").val()),f)a.append(i,f[i])})}),$(document).on("click","#"+c+"-upload_file",function(){a.processQueue()})},paramName:"file",maxFilesize:a,maxFiles:25,parallelUploads:25,addRemoveLinks:!0,uploadMultiple:!0,autoProcessQueue:!1,dictDefaultMessage:"Vilkite failus \u010Dia arba paspauskite nor\u0117dami pasirinkti",dictFileTooBig:"Failo dydis yra didesnis u\u017E leid\u017Eiam\u0105 dyd\u012F: "+a+" mb",dictInvalidFileType:"Neteisingas failo formatas. Leid\u017Eiami tokie failo formatai: image/*,application/pdf,.psd, .doc, .docx, .xls, .xlsx, .ppt, .pptx, .odt, .csv, .txt, .dwg, .dxf, .rar, .zip, .adoc, .7z, .html, .htm, .ods, .webm, .mpg, .mp2, .mpeg, .mpe, .mpv, .ogg, .mp4, .m4p, .m4v, .mov, .avi, .wmv, .msg",dictMaxFilesExceeded:"Vir\u0161ytas maksimalus leid\u017Eiamas fail\u0173 kiekis",dictRemoveFile:"Pa\u0161alinti",url:d,acceptedFiles:"image/*,application/pdf,.psd, .doc, .docx, .xls, .xlsx, .ppt, .pptx, .odt, .csv, .txt, .dwg, .dxf, .rar, .zip, .adoc, .7z, .html, .htm, .ods, .webm, .mpg, .mp2, .mpeg, .mpe, .mpv, .ogg, .mp4, .m4p, .m4v, .mov, .avi, .wmv, .msg",success:function(e,a){if(0===this.getUploadingFiles().length&&0===this.getQueuedFiles().length){var f=$("#"+c+"_documents");if(a.success){for(var h in showMessage(a.success_message,"success"),a.Data){var k=a.Data[h];f.val(k+";"+$(f).val())}angular.element($("#document_list_"+b+" .datatable")).scope().reloadDataTable(),this.removeAllFiles(!0),$("#"+c+"-file_description").val(""),$("#"+c+"_documents_count").text(parseInt($("#"+c+"_documents_count").text())+a.Data.length).triggerHandler("change");var l={file_ids:a.Data},m=$("#"+c+"-document_upload_form").data("notify-url");0<$("#"+c+"_object_id").val()&&$.post(m,l),g&&g()}else showMessage(a.error_message,"error")}}}),$("#"+c+"-dropzone:not(.has-dropzone)").addClass("has-dropzone"))}function enableICheck(){0<$("input.flat:not(.has-icheck)").length&&($("input.flat:not(.has-icheck)").iCheck({checkboxClass:"icheckbox_flat-green",radioClass:"iradio_flat-blue"}),$("input[type=\"checkbox\"]").addClass("has-icheck"))}function moveRowsInDifferentGrids(q,e,t,a,n,o,s,l,w,d,c){$(".choose-materials").attr("disabled","disabled");var u=Grids[q],h=Grids[e],m=u.GetSelRows();u.SelectAllRows(0);var f=c?getGridParents(h.Rows,c):{};for(var v in m){if(m[v].Def&&"Parent"==m[v].Def.Name){if(c){var g=getDublicateGridParent(m[v],h.Rows,c);if(g){f[m[v].id]=g.id;continue}if(m[v][c]&&h.GetRowById(m[v][c],c)){var b=h.GetRowById(m[v][c],c);b&&b.Deleted&&(b.Deleted=!1),f[m[v].id]=b.id;continue}}if(0<m[v].parent_id&&f[m[v].parent_id])var k=h.AddRow(h.GetRowById(f[m[v].parent_id]),null,1);else k=h.AddRow(null,null,1);for(p in h.ChangeDef(k,"Parent",1),s)k[p]=s[p];k.Expanded=1,f[m[v].id]=k.id}else k=h.AddRow(h.GetRowById(f[m[v].parent_id]),null,1);k.is_new=1;var x=h.Cols;for(i in x)if(!n||-1===$.inArray(i,n)){var y=index=i;if(l&&l[i])if($.isArray(l[i]))for(j in l[i])m[v][l[i][j]]&&(y=l[i][j]);else y=l[i];w&&w[i]&&(index=w[i]),m[v][y]&&"id"!=i&&(0<k.parent_id?(h.SetValue(k,index,m[v][y],1),h.ExpandParents(k)):o&&-1!==$.inArray(i,o)||h.SetValue(k,index,m[v][y],1))}console.log(a),$("#"+a).val($("#"+a).val()+k.tariff_id+";")}$("#"+t).modal("hide"),delete Grids[q],$("#"+t).remove(),d&&d()}function getDublicateGridParent(b,c,d){for(r in c){var a=c[r];if("Data"==a.Kind&&"Parent"==a.Def.Name&&!a.Deleted&&a[d]==b[d])return a}return null}function getGridParents(b,c){var d={};for(r in b){var a=b[r];"Data"!=a.Kind||"Parent"!=a.Def.Name||a.Deleted||(d[a[c]]=a.id)}return d}function getSelectedRows(a){var b=getGridCacheSelectedRows(a);return b?b:void setTimeout(function(){getSelectedRows(a)},200)}function enableSelectWithSearch(b,c,d){$("#"+b).select2({placeholder:c,allowClear:!0,data:d})}function returnBack(a){window.location.href=a}function validateNumbersWithDot(a){var b;return(0<a.keyCode||void 0!==a.charCode)&&(b=a.which||a.keyCode),46==b||!(31<b&&(48>b||57<b))}function prepareDateTimePicker(){$(".datetimepicker:not(\".has-datetimepicker\")").each(function(){$(".datetimepicker").datetimepicker({format:"YYYY-MM-DD HH:mm:ss",locale:"lt",maxDate:new Date}),$(".datetimepicker").addClass("has-datetimepicker")})}function prepareDateTimePickerWithMinDate(a,b){$("."+a+":not(\".has-datetimepicker\")").each(function(){$("."+a).datetimepicker({format:"YYYY-MM-DD HH:mm:ss",locale:"lt",maxDate:new Date,minDate:b||new Date}),$("."+a).addClass("has-datetimepicker")})}function calculateMonthsDifference(b,c){var d=moment(b).format("YYYY-MM-DD"),a=moment(c).format("YYYY-MM-DD");return moment(a).diff(moment(d),"months",!0).toFixed(2)}function getCurrentDate(){return moment().format("YYYY-MM-DD")}function addOnDayToDate(a,b){if(a)return moment(a).add(b,"days").format("YYYY-MM-DD")}function checkEditedInfo(b,c,d,a){var e=!0;if(b&&window[b]()){if(!a){var f=$.now(),g={submit:c,onclose:function(){$("#save-changes-dialog-"+f).remove()},buttons:{exit:{title:"U\u017Edaryti nesaugant pakeitim\u0173",class:"md-raised mini-button md-button md-ink-ripple red-button",onclick:d+"()"}}};$("body").append("<div class=\"save-changes-dialog\" id=\"save-changes-dialog-"+f+"\"></div>"),$("#save-changes-dialog-"+f).createModal(g,null,"<strong>Ar i\u0161saugoti pakeitimus?</strong>")}e=!1}return e}var formChanged=[];function monitorChanges(a){0<$("#"+a).length&&$("#"+a).change(function(){formChanged[a]=!0})}function resetChanges(a,b){b?formChanged=[]:formChanged&&formChanged[a]&&(formChanged[a]=!1)}function checkChanges(a){return formChanged&&formChanged[a]&&1==formChanged[a]}var ts="";function askForAction(b,c,e,a,f,g,h){g||(g="ask-for-action-dialog");var k=$("<div />").attr("id",g).css("z-index","99999");$("body").append(k),f||(f="md-raised mini-button md-primary md-button md-ink-ripple");var l={buttons:{send:{class:f,title:e,onclick:"onclickActionDialog('"+c+"', '"+g+"', "+(h&&h.check_for_hide)+")",icon:a,id:"send_for_approval"}},onclose:function(){$("#"+g).remove()}},m="<strong>"+b+"</strong>";h&&h.with_return_reason_form_id&&(m+="<div style=\"margin-top: 18px;\"><form id=\""+h.with_return_reason_form_id+"\"><div class=\"form-group\"><label for=\"return-reason\">Prie\u017Eastis<span class=\"required-symbol\">*</span>:</label><textarea class=\"form-control\" id=\"return-reason\" rows=\"3\" required></textarea></div></form></div>"),h&&h.merge_with_params&&(h.buttons&&(l.buttons=$.extend(l.buttons,h.buttons)),"undefined"!==h.cancel&&(l.cancel=h.cancel)),$("#"+g).createModal(l,null,m)}function onclickActionDialog(b,c,d){c||(c="ask-for-action-dialog"),d||disableButtonOnClick("send_for_approval");var a=window[b];"function"==typeof a?d?a()&&(disableButtonOnClick("send_for_approval"),$("#"+c).modal("hide")):(a(),$("#"+c).modal("hide")):$("#"+c).modal("hide")}function calcSequanceNr(b,c,d){if(b&&"Data"==b.Kind){if(d){var a=1,e=b.parentNode,f=!1;if("I"==e.nodeName)for(;e.nextSibling;)a++,e=e.nextSibling;else f=!0;return b==b.parentNode.firstChild?a+(f?"":".1"):b.previousSibling[c].split(".").slice(0,-1).join(".")+(f?"":".")+(+b.previousSibling[c].split(".").pop()+1)}return b.previousSibling||"B"!=b.parentNode.nodeName?+b.previousSibling[c]+1:1}return""}function activateChooseMaterialsButton(){$(".choose-materials").removeAttr("disabled")}function disableChooseMaterialsButton(){$(".choose-materials").attr("disabled","disabled")}function isNumberKey(a){var b=a.which?a.which:event.keyCode;return 48<=b&&57>=b||96<=b&&105>=b||8==b}function doParentRecursion(b,c,d,a,e){if("Data"==c.Kind)return e||window[d](b,c,a),c.parentNode&&doParentRecursion(b,c.parentNode,d,a),!0}function setParentValue(b,c,d){for(var a in d.cols){var e=d.cols[a];if(d.delta)var f=c[e]+d.delta;else d.row_object&&(f=c[e]-d.row_object[e]);void 0!==f&&(d.exclude_cols?-1==d.exclude_cols.indexOf(e)&&b.SetValue(c,e,f,1):b.SetValue(c,e,f,1))}}function disableButtonOnClick(a){$("#"+a).attr("disabled","disabled")}function enableButtonAfterPost(a){"disabled"==$("#"+a).attr("disabled")&&$("#"+a).removeAttr("disabled")}function replaceNumberCommaWithDot(){$("input.number_value").bind("change keyup input paste keydown",function(b){var c=b.which?b.which:event.keyCode;if(110!=c&&188!=c&&17!=c&&86!=c||(b.preventDefault(),-1==$(this).val().indexOf(".")&&"keydown"===b.type&&$(this).val($(this).val()+".")),109==c){b.preventDefault();var d=$(this).val();$(this).val(d.replace("-",""))}}),$("input.number_value").keypress(function(a){return isNumber(a,this)})}function onImportFinished(b,c,d){c&&angular.element($("#"+c+" .datatable")).scope().reloadDataTable(),closeModal(b,d)}function isNumber(b,c){var d=b.which?b.which:event.keyCode;return 45==d&&-1==$(c).val().indexOf("-")||46==d&&-1==$(c).val().indexOf(".")||!(48>d||57<d)}function loadDocuments(b,c,d){var e=c.replace("/","_")+"_"+$.now();d||(d={}),d.modal_id=e;var f=BASE_URL+"/core/coreapi/documents",g={object_id:b,object_code:c,can_upload:d&&1==d.can_upload?1:0,only_one_file:d&&1==d.only_one_file?1:0,can_delete:d&&1==d.can_delete?1:0};d&&d.grid_id&&(g.grid_id=d.grid_id),d&&d.row_id&&(g.row_id=d.row_id),d&&d.height&&(g.height=d.height),d.cancel=!1,d.buttons={cancel:{class:"md-raised mini-button md-button md-ink-ripple",title:"U\u017Edaryti",attr:{"data-dismiss":"modal"},onclick:function(){"function"==typeof d.cancel_callback&&d.cancel_callback({modal_id:e})},icon:"fa fa-close"}},$("body").append("<div id=\""+e+"\"></div>"),$("#"+e).loadinmodal(f,g,d)}